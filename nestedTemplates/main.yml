resources:
  - repo: self
  
trigger: none

pool:
  vmImage: 'ubuntu-18.04'

stages:
- stage: stage1
  jobs:
  # - template: ./nested/build/job.yml
  #   parameters:
  #     vnetName: 'Vnet01'
  #     vnetAddressSpace: '10.0.0.0/24'

  # - template: ./nested/build/job.yml
  #   parameters:
  #     vnetName: 'Vnet02'
  #     vnetAddressSpace: '10.1.0.0/24'






  - template: ./keyVault/build/job.yml
    parameters:
      keyVaultName: 'keyvaultasfran07'

- stage: stage2
  jobs:
  - template: ./nsg/build/job.yml

- stage: stage3
  jobs:
  - template: ./vnet/build/job.yml

- stage: stage4
  jobs:
  - template: ./webappfront/build/job.yml

# - stage: stage5
#   jobs:
#   - template: ./waf/build/job.yml